<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="group">

	<select id="selectMyList" parameterType="string"
		resultType="GroupDto">
		SELECT * FROM SGROUP WHERE SGROUP_ID IN"
		(SELECT SGROUP_ID
		FROM SGROUP_MEMBER
		WHERE SGROUP_MEM_ID = #{memberId})
	</select>

	<select id="selectMyCount" parameterType="string"
		resultType="_int">
		SELECT COUNT(*) FROM SGROUP WHERE SGROUP_ID IN
		(SELECT
		SGROUP_ID FROM SGROUP_MEMBER WHERE SGROUP_MEM_ID = #{memberId})
	</select>

	<select id="selectAllOpenList" parameterType="map"
		resultType="GroupDto">
		SELECT S.* FROM (SELECT ROWNUM, SGROUP.* FROM SGROUP WHERE SGROUP_OPEN = 0)
		S
		WHERE ROWNUM BETWEEN #{startRounum} AND #{endRounum}
	</select>
	
	<select id="selectAllList" resultType="GroupDto">
		SELECT * FROM SGROUP
	</select>
	
	<insert id="insert" parameterType="GroupCreateDto">
		INSERT INTO SGROUP VALUES (SEQ_SGROUP_ID.nextval, #{groupName}, #{groupOpen},#{groupPwd},#{groupEx},#{groupImgPath},#{groupImgName})
	</insert>
</mapper>
